{% extends 'user/baseuser.html' %}
{% load static %}
{% block content %}
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

{% if not cartitems %}
<p>Your Cart is empty</p>





{% else %}

<form action="{% url 'userapp:checkoutsession' %}" method="post">
{% csrf_token %}
<p style="background-color: aqua;color: #000; text-align: center; ">Total Items: {{ totalitems }}</p>
<p style="background-color: rgb(102, 235, 235);color: blue; text-align: center;font-family: Verdana, Geneva, Tahoma, sans-serif;">Total Price: Rs{{ totalprice }}</p>
<button style="background-color: aqua;color: black;text-align: center;border-color: #631010;border-radius: 20rem;" id="Checkout_button" type="submit">Checkout</button>
</form>
<table class="table table-dark table-hover">

<thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Book name</th>
      <th scope="col">Author</th>
      <th scope="col">Price</th>
      <th scope="col">Action</th>
      <th scope="col"></th>
     

      <th scope="col" style="text-align: center;">Quantity</th>
      

    </tr>
  </thead>
  <tbody>
    {% for item in cartitems %}
    <tr>
      <th scope="row">1</th>
      <td>{{ item.bookh.title }}</td>
      <td>{{ item.bookh.author }}</td>
      <td>{{ item.bookh.price }}</td>
      <td><a href="{% url 'userapp:removecart' item.id %}">Remove</a></td>

      {% if item.quantity <= item.bookh.quantity %}
      
      <td><a href="{% url 'userapp:decreasequantity' item.id %}"><i class="fa-regular fa-circle-down"></i></a>
      <td><input type="number" name="quantity" value="{{ item.quantity }}">Quantity</td>
      <td><a href="{% url 'userapp:increasequantity' item.id %}"><i class="fa-regular fa-circle-up"></i></a></td>
      {% endif %}
    </tr>
   {% endfor %}
  </tbody>
</table>
</tr>
{% endif %}


{% endblock %}